 local WeponsWithForegrip = {
 ["Assault Rifle Colt Commando 933"] = "Assault Rifle Colt Commando 933 FG",
 ["Assault Rifle Colt Commando 933 folded"] = "Assault Rifle Colt Commando 933 FG folded",
 ["Small Assault Rifle M4 CQB-R (5.56mm)"] = "Small Assault Rifle M4 CQB-R FG (5.56mm)",
 ["Small Assault Rifle M4 CQB-R (5.56mm) folded"] = "Small Assault Rifle M4 CQB-R FG (5.56mm) folded",
 ["Assault Rifle M4A1 RIS (5.56mm)"] = "Assault Rifle M4A1 RIS FG (5.56mm)",
 ["Assault Rifle M4A1 RIS (5.56mm) folded"] = "Assault Rifle M4A1 RIS FG (5.56mm) folded",
 ["Assault Rifle M4 SOPMOD (22)"] = "Assault Rifle M4 SOPMOD FG (22)",
 ["Assault Rifle M4 SOPMOD (22) folded"] = "Assault Rifle M4 SOPMOD FG (22) folded",
 ["LWRC PSD 556"] = "LWRC PSD 556 FG",
 ["LWRC PSD 556 folded"] = "LWRC PSD 556 FG folded",
 ["LWRC PSD 556 BLK"] = "LWRC PSD 556 BLK FG",
 ["LWRC PSD 556 BLK folded"] = "LWRC PSD 556 BLK FG folded",
 ["LWRC PSD"] = "LWRC PSD FG",
 ["LWRC PSD folded"] = "LWRC PSD FG folded",
 ["LWRC PSD BLK"] = "LWRC PSD BLK FG",
 ["LWRC PSD BLK folded"] = "LWRC PSD BLK FG folded",
 ["Assault Rifle M16A3 MWS (5.56mm)"] = "Assault Rifle M16A3 MWS FG (5.56mm)",
 ["Assault Rifle M16A3 MWS Target (5.56mm)"] = "Assault Rifle M16A3 Target FG (5.56mm)",
 ["Assault Rifle SAR21 (5.56mm)"] = "Assault Rifle SAR21 FG (5.56mm)",
 ["Assault Rifle T91 (5.56mm)"] = "Assault Rifle T91 FG (5.56mm)",
 ["Assault Rifle T91 (5.56mm) folded"] = "Assault Rifle T91 FG (5.56mm) folded",
 ["REC7 PDW NATO"] = "REC7 PDW NATO FG",
 ["REC7 PDW NATO folded"] = "REC7 PDW NATO FG folded",
 ["REC7 NATO"] = "REC7 NATO FG",
 ["REC7 NATO folded"] = "REC7 NATO FG folded",
 ["REC7 PDW SPC"] = "REC7 PDW SPC FG",
 ["REC7 PDW SPC folded"] = "REC7 PDW SPC FG folded",
 ["REC7 SPC"] = "REC7 SPC FG",
 ["REC7 SPC folded"] = "REC7 SPC FG folded",
 ["Assault Rifle Grendel MWS (6.5)"] = "Assault Rifle Grendel MWS FG (6.5)",
 ["Shotgun AA12 (12ga)"] = "Shotgun AA12 FG (12ga)",
 ["Assault Rifle T14 M4A1 (410)"] = "Assault Rifle T14 M4A1 FG (410)",
 ["Assault Rifle T14 M4A1 (410) folded"] = "Assault Rifle T14 M4A1 FG (410) folded",
 ["Assault Rifle T14 MWS (410)"] = "Assault Rifle T14 MWS FG (410)",
 ["Assault Rifle Beowulf MWS (.50 BEO)"] = "Assault Rifle Beowulf MWS FG (.50 BEO)",
 ["Assault Rifle XM-15-E2S (5.56mm)"] = "Assault Rifle XM-15-E2S FG (5.56mm)",
 ["Assault Rifle XM-15-E2S (5.56mm) folded"] = "Assault Rifle XM-15-E2S FG (5.56mm) folded",
 ["Assault Rifle AR-15 CQB (.300 BLK)"] = "Assault Rifle AR-15 CQB AG (.300 BLK)",
 ["Assault Rifle AR-15 CQB (.300 BLK) folded"] = "Assault Rifle AR-15 CQB AG (.300 BLK) folded",
 ["Assault Rifle M4A1 CQB (.300 BLK)"] = "Assault Rifle M4A1 CQB AG (.300 BLK)",
 ["Assault Rifle M4A1 CQB (.300 BLK) folded"] = "Assault Rifle M4A1 CQB AG (.300 BLK) folded",
 ["Small Assault Rifle M933 Beowulf (.50 BEO)"] = "Small Assault Rifle M933 Beowulf FG (.50 BEO)",
 ["Small Assault Rifle M933 Beowulf (.50 BEO) folded"] = "Small Assault Rifle M933 Beowulf FG (.50 BEO) folded",
 ["Assault Rifle M4 Beowulf (.50 BEO)"] = "Assault Rifle M4 Beowulf FG (.50 BEO)",
 ["Assault Rifle M4 Beowulf (.50 BEO) folded"] = "Assault Rifle M4 Beowulf FG (.50 BEO) folded",
 ["Assault Rifle LAC Beowulf (.50 BEO)"] = "Assault Rifle LAC Beowulf FG (.50 BEO)",
 ["Assault Rifle LAC Beowulf (.50 BEO) folded"] = "Assault Rifle LAC Beowulf FG (.50 BEO) folded",
 ["Small Assault Rifle M933 Grendel (6.5)"] = "Small Assault Rifle M933 Grendel FG (6.5)",
 ["Small Assault Rifle M933 Grendel (6.5) folded"] = "Small Assault Rifle M933 Grendel FG (6.5) folded",
 ["Assault Rifle M4 Grendel (6.5)"] = "Assault Rifle M4 Grendel FG (6.5)",
 ["Assault Rifle M4 Grendel (6.5) folded"] = "Assault Rifle M4 Grendel FG (6.5) folded",
 ["Assault Rifle LAC Grendel (6.5)"] = "Assault Rifle LAC Grendel FG (6.5)",
 ["Assault Rifle LAC Grendel (6.5) folded"] = "Assault Rifle LAC Grendel FG (6.5) folded",
 ["Small Assault Rifle M933 (300BLK)"] = "Small Assault Rifle M933 FG (300BLK)",
 ["Small Assault Rifle M933 (300BLK) folded"] = "Small Assault Rifle M933 FG (300BLK) folded",
 ["Assault Rifle M4 SOPMOD (300BLK)"] = "Assault Rifle M4 SOPMOD FG (300BLK)",
 ["Assault Rifle M4 SOPMOD (300BLK) folded"] = "Assault Rifle M4 SOPMOD FG (300BLK) folded",
 ["Assault Rifle DSA-58OSW (7.62x51mm)"] = "Assault Rifle DSA-58OSW FG (7.62x51mm)",
 ["Assault Rifle DSA-58OSW (7.62x51mm) folded"] = "Assault Rifle DSA-58OSW FG (7.62x51mm) folded",
 ["Assault Rifle M14EBR NEW (7.62mm)"] = "Assault Rifle M14EBR NEW FG (7.62mm)",
 ["Assault Rifle M14EBR NEW (7.62mm) folded"] = "Assault Rifle M14EBR NEW FG (7.62mm) folded",
 ["Assault Rifle AK-12 (5.45mm)"] = "Assault Rifle AK-12 FG (5.45mm)",
 ["Assault Rifle AK-12 (5.45mm) folded"] = "Assault Rifle AK-12 FG (5.45mm) folded",
 ["Assault Rifle AK-12 (5.56mm)"] = "Assault Rifle AK-12 FG (5.56mm)",
 ["Assault Rifle AK-12 (5.56mm) folded"] = "Assault Rifle AK-12 FG (5.56mm) folded",
 ["Assault Rifle AK-12 (7.62mm)"] = "Assault Rifle AK-12 FG (7.62mm)",
 ["Assault Rifle AK-12 (7.62mm) folded"] = "Assault Rifle AK-12 FG (7.62mm) folded",
 ["Assault Rifle AK-12 (308)"] = "Assault Rifle AK-12 FG (308)",
 ["Assault Rifle AK-12 (308) folded"] = "Assault Rifle AK-12 FG (308) folded",
 ["Assault Rifle AK-12C (5.45mm)"] = "Assault Rifle AK-12C FG (5.45mm)",
 ["Assault Rifle AK-12C (5.45mm) folded"] = "Assault Rifle AK-12C FG (5.45mm) folded",
 ["Assault Rifle AK-12C (5.56mm)"] = "Assault Rifle AK-12C FG (5.56mm)",
 ["Assault Rifle AK-12C (5.56mm) folded"] = "Assault Rifle AK-12C FG (5.56mm) folded",
 ["Assault Rifle AK-12C (7.62mm)"] = "Assault Rifle AK-12C FG (7.62mm)",
 ["Assault Rifle AK-12C (7.62mm) folded"] = "Assault Rifle AK-12C FG (7.62mm) folded",
 ["Assault Rifle AK-12C (308)"] = "Assault Rifle AK-12C FG (308)",
 ["Assault Rifle AK-12C (308) folded"] = "Assault Rifle AK-12C FG (308) folded",
 ["Assault Rifle AK-12U (5.45mm)"] = "Assault Rifle AK-12U FG (5.45mm)",
 ["Assault Rifle AK-12U (5.45mm) folded"] = "Assault Rifle AK-12U FG (5.45mm) folded",
 ["Assault Rifle AK-12U (5.56mm)"] = "Assault Rifle AK-12U FG (5.56mm)",
 ["Assault Rifle AK-12U (5.56mm) folded"] = "Assault Rifle AK-12U FG (5.56mm) folded",
 ["Assault Rifle AK-12U (7.62mm)"] = "Assault Rifle AK-12U FG (7.62mm)",
 ["Assault Rifle AK-12U (7.62mm) folded"] = "Assault Rifle AK-12U FG (7.62mm) folded",
 ["Assault Rifle AK-12U (308)"] = "Assault Rifle AK-12U FG (308)",
 ["Assault Rifle AK-12U (308) folded"] = "Assault Rifle AK-12U FG (308) folded",
 ["Assault Rifle SIG 556 CQC (5.56mm)"] = "Assault Rifle SIG 556 CQC FG (5.56mm)",
 ["Assault Rifle SIG 556 CQC (5.56mm) folded"] = "Assault Rifle SIG 556 CQC FG (5.56mm) folded",
 ["Assault Rifle SIG 556 CQC CIV (5.56mm)"] = "Assault Rifle SIG 556 CQC CIV FG (5.56mm)",
 ["Assault Rifle SIG 556 CQC CIV (5.56mm) folded"] = "Assault Rifle SIG 556 CQC CIV FG (5.56mm) folded",
 ["Assault Rifle SIG 556 CAR (5.56mm)"] = "Assault Rifle SIG 556 CAR FG (5.56mm)",
 ["Assault Rifle SIG 556 CAR (5.56mm) folded"] = "Assault Rifle SIG 556 CAR FG (5.56mm) folded",
 ["Assault Rifle SIG 556 CAR CIV (5.56mm)"] = "Assault Rifle SIG 556 CAR CIV FG (5.56mm)",
 ["Assault Rifle SIG 556 CAR CIV (5.56mm) folded"] = "Assault Rifle SIG 556 CAR CIV FG (5.56mm) folded",
 ["Assault Rifle SIG 556 (5.56mm)"] = "Assault Rifle SIG 556 FG (5.56mm)",
 ["Assault Rifle SIG 556 (5.56mm) folded"] = "Assault Rifle SIG 556 FG (5.56mm) folded",
 ["Assault Rifle SIG 556 CIV (5.56mm)"] = "Assault Rifle SIG 556 CIV FG (5.56mm)",
 ["Assault Rifle SIG 556 CIV (5.56mm) folded"] = "Assault Rifle SIG 556 CIV FG (5.56mm) folded",
 ["HK416CQB"] = "HK416CQB FG",
 ["HK416CQB folded"] = "HK416CQB FG folded",
 ["HK416 14DRS"] = "HK416 14DRS FG",
 ["HK416 14DRS folded"] = "HK416 14DRS FG folded",
 ["HK416"] = "HK416 FG",
 ["HK416 folded"] = "HK416 FG folded",
 ["HK417 12Inch CQB"] = "HK417 12Inch CQB FG",
 ["HK417 12Inch CQB folded"] = "HK417 12Inch CQB FG folded",
 ["HK417 16Inch"] = "HK417 16Inch FG",
 ["HK417 16Inch folded"] = "HK417 16Inch FG folded",
 ["HK417 20Inch"] = "HK417 20Inch FG",
 ["HK417 20Inch folded"] = "HK417 20Inch FG folded",
 ["SW MP15 300BLK"] = "SW MP15 300BLK FG",
 ["SW MP15 300BLK folded"] = "SW MP15 300BLK FG folded",
 ["SW MP15 300BLK CQC"] = "SW MP15 300BLK CQC FG",
 ["SW MP15 300BLK CQC folded"] = "SW MP15 300BLK CQC FG folded",
 ["SW MP15"] = "SW MP15 FG",
 ["SW MP15 folded"] = "SW MP15 FG folded",
 ["SW MP15 CQC"] = "SW MP15 CQC FG",
 ["SW MP15 CQC folded"] = "SW MP15 CQC FG folded",
 ["SW MP15 LB"] = "SW MP15 LB FG",
 ["SW MP15 LB folded"] = "SW MP15 LB FG folded",
 ["KAC PDW"] = "KAC PDW FG",
 ["KAC PDW folded"] = "KAC PDW FG folded",
 ["HS VHS-D2"] = "HS VHS-D2 FG",
 ["HS VHS-K2"] = "HS VHS-K2 FG",
 ["Assault Rifle Ash (12.7)"] = "Assault Rifle Ash FG (12.7)",
 ["MSBS Bullpup NOFG"] = "MSBS Bullpup FG",
 ["Pistol Glock 17 (9mm)"] = "Pistol Glock 17 TB (9mm)",
 ["Pistol Glock 21 (.45 ACP)"] = "Pistol Glock 21 TB (.45 ACP)",
 ["Pistol Glock 22 (.40 S&W)"] = "Pistol Glock 22 TB (.40 S&W)",
 ["Sniper Rifle HK SR9 (7.62x51mm)"] = "Sniper Rifle HK SR9 TB (7.62x51mm)",
 ["Sniper Rifle HK SR9TC (7.62x51mm)"] = "Sniper Rifle HK SR9TC TB (7.62x51mm)",
 ["Chain-gun HK21e (7.62x51mm)"] = "Chain-gun HK21e TB (7.62x51mm)",
 ["Chain-gun HK23e (5.56x45mm)"] = "Chain-gun HK23e TB (5.56x45mm)",
 ["Submachine-gun Skorpion 3 (9mm)"] = "Submachine-gun Skorpion 3 FG (9mm)",
 ["Submachine-gun Skorpion 3 (9mm) folded"] = "Submachine-gun Skorpion 3 FG (9mm) folded",
 ["Submachine-gun UMP9 (9mm)"] = "Submachine-gun UMP9 FG (9mm)",
 ["Submachine-gun UMP9 (9mm) folded"] = "Submachine-gun UMP9 FG (9mm) folded",
 ["Submachine-gun HK UMP45 (.45 ACP)"] = "Submachine-gun UMP45 FG (.45ACP)",
 ["Submachine-gun HK UMP45 (.45 ACP) folded"] = "Submachine-gun UMP45 FG (.45ACP) folded",
 ["Submachine-gun UMP40 (.40 S&W)"] = "Submachine-gun UMP40 FG (.40 S&W)",
 ["Submachine-gun UMP40 (.40 S&W) folded"] = "Submachine-gun UMP40 FG (.40 S&W) folded",
 ["Submachine-gun MPX (9mm)"] = "Submachine-gun MPX FG (9mm)",
 ["Submachine-gun MPX (9mm) folded"] = "Submachine-gun MPX FG (9mm) folded",
 ["Submachine-gun MPX (40)"] = "Submachine-gun MPX FG (40)",
 ["Submachine-gun MPX (40) folded"] = "Submachine-gun MPX FG (40) folded",
 ["Submachine-gun MPX (357)"] = "Submachine-gun MPX FG (357)",
 ["Submachine-gun MPX (357) folded"] = "Submachine-gun MPX FG (357) folded",
 ["Submachine-gun MPXK (9mm)"] = "Submachine-gun MPXK FG (9mm)",
 ["Submachine-gun MPXK (9mm) folded"] = "Submachine-gun MPXK FG (9mm) folded",
 ["Submachine-gun MPXK (40)"] = "Submachine-gun MPXK FG (40)",
 ["Submachine-gun MPXK (40) folded"] = "Submachine-gun MPXK FG (40) folded",
 ["Submachine-gun MPXK (357)"] = "Submachine-gun MPXK FG (357)",
 ["Submachine-gun MPXK (357) folded"] = "Submachine-gun MPXK FG (357) folded",
 ["Submachine-gun MX4 (9mm)"] = "Submachine-gun MX4 FG (9mm)",
 ["Submachine-gun MX4 (40)"] = "Submachine-gun MX4 FG (40)",
 ["Submachine-gun MX4 (45)"] = "Submachine-gun MX4 FG (45)",
 ["Submachine-gun CX4 (9mm)"] = "Submachine-gun CX4 FG (9mm)",
 ["Submachine-gun CX4 (40)"] = "Submachine-gun CX4 FG (40)",
 ["Submachine-gun CX4 (45)"] = "Submachine-gun CX4 FG (45)",
}

-- проверяем что доступно снятие тактической рукоятки
function CanDetachForegrip(item)
	if HUDState() ~= 5 then
		for key, value in pairs(WeponsWithForegrip) do
			if value == item:GetName() then	return true end
		end
	end
	return false
end

function DetachForegrip(item)
	local similar_item
	local monster = GetCurrentMerc()
	for key, value in pairs(WeponsWithForegrip) do
		if value == item:GetName() then
			similar_item = key
			break
		end
	end

	if similar_item ~= nil then
		item:ChangeItemType(similar_item)
		item_name, success = monster:AddItem("Tactical grip")
		if not success then DropItem("Tactical grip") end
		monster:AddChangeItemAction(2)
	else
		monster:Say(_t"lang/lua/fptb/cant_detach_handle")
	end
end

function AttachForegrip(itemAttach, itemWeapon)
	local monster = GetCurrentMerc()
	local similar_item = WeponsWithForegrip[itemWeapon:GetName()]
	if (similar_item ~= nil and HUDState() ~= 5) then
		itemWeapon:ChangeItemType(similar_item)
		monster:AddChangeItemAction(2)
        	return itemWeapon, true
	end
	return nil
end

function AttachStock(itemAttach, itemWeapon)
	local monster = GetCurrentMerc()
	if HUDState() ~= 5 and GetAddon(itemWeapon, adStock) == nil then
		if monster:GetHands() == itemWeapon then
			monster:RiseButt()
			monster:AddChangeItemAction(2)
	        	return itemWeapon, true
		else
			monster:Say(_t'lang/lua/fptb/need_to_handle_weapon')
		end
	end
	return nil
end

-- массив для смены тактических стволов на обычные
local Pistols4Barrels = {
["Pistol Glock 17 TB (9mm)"] = "Glock-17 threaded barrel",
["Pistol Glock 21 TB (.45 ACP)"] ="Glock-21 threaded barrel",
["Pistol Glock 22 TB (.40 S&W)"] = "Glock-22 threaded barrel",  
["Sniper Rifle HK SR9 TB (7.62x51mm)"] = "SR9 threaded barrel",
["Sniper Rifle HK SR9TC TB (7.62x51mm)"] = "SR9 threaded barrel",
["Chain-gun HK21e TB (7.62x51mm)"] = "HK21 threaded barrel",
["Chain-gun HK23e TB (5.56x45mm)"] = "HK23 threaded barrel",
}

function CanDetachPistolTB(item)
	if HUDState() ~= 5 then
		for key, value in pairs(WeponsWithForegrip) do
			if value == item:GetName() then	return true end
		end
	end
	return false
end

function DetachPistolTB(item)
	local similar_pistol
	local monster = GetCurrentMerc()
	for key, value in pairs(WeponsWithForegrip) do
		if value == item:GetName() then
			similar_pistol = key
			break
		end
	end
	local tactical_barrel
	for key, value in pairs(Pistols4Barrels) do
		if key == item:GetName() then
			tactical_barrel = value
			break
		end
	end
	local condition = item:GetCondition()
	if similar_pistol ~= nil then
		if tactical_barrel ~= nil then
			local silencer = item:RemoveAddon(AddonTypes.adSilencer)
			if silencer ~= nil then DropItem(silencer) end
			item:ChangeItemType(similar_pistol)
			local barrel_result = CreateItem(tactical_barrel)
			barrel_result:SetCondition(condition)
			item_name, success = monster:AddItem(barrel_result)
			if not success then DropItem(barrel_result) end
				monster:AddChangeItemAction(5)
		else
				monster:Say(_t"lang/lua/fptb/no_matching_barrel")
		end
	else
		monster:Say(_t"lang/lua/fptb/cant_detach_barrel")
	end
end


-- смена ствола для последующей установки глушителя
AddItemCombineHandler("Glock-17 threaded barrel", "Pistol Glock 17 (9mm)", AttachForegrip)
AddItemCombineHandler("Glock-21 threaded barrel", "Pistol Glock 21 (.45 ACP)", AttachForegrip)
AddItemCombineHandler("Glock-22 threaded barrel", "Pistol Glock 22 (.40 S&W)", AttachForegrip)
AddItemCombineHandler("SR9 threaded barrel", "Sniper Rifle HK SR9 (7.62x51mm)", AttachForegrip)
AddItemCombineHandler("SR9 threaded barrel", "Sniper Rifle HK SR9TC (7.62x51mm)", AttachForegrip)
AddItemCombineHandler("HK21 threaded barrel", "Chain-gun HK21e (7.62x51mm)", AttachForegrip)
AddItemCombineHandler("HK23 threaded barrel", "Chain-gun HK23e (5.56x45mm)", AttachForegrip)

local action_detach_barrel = _t"lang/lua/fptb/detach_barrel"

AddItemContextMenu("Pistol Glock 17 TB (9mm)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Pistol Glock 21 TB (.45 ACP)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Pistol Glock 22 TB (.40 S&W)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Sniper Rifle HK SR9 TB (7.62x51mm)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Sniper Rifle HK SR9TC TB (7.62x51mm)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Chain-gun HK21e TB (7.62x51mm)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)
AddItemContextMenu("Chain-gun HK23e TB (5.56x45mm)", action_detach_barrel, DetachPistolTB, CanDetachPistolTB)

-- установка тактической рукоятки
-- Attach Frontgrip / Rifle
AddItemCombineHandler("Tactical grip", "Assault Rifle Colt Commando 933", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle Colt Commando 933 folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M4 CQB-R (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M4 CQB-R (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4A1 RIS (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4A1 RIS (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 SOPMOD (22)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 SOPMOD (22) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD 556", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD 556 folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD 556 BLK", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD 556 BLK folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD BLK", AttachForegrip)
AddItemCombineHandler("Tactical grip", "LWRC PSD BLK folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M16A3 MWS (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M16A3 MWS Target (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SAR21 (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle T91 (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle T91 (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 PDW NATO", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 PDW NATO folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 NATO", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 NATO folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 PDW SPC", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 PDW SPC folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 SPC", AttachForegrip)
AddItemCombineHandler("Tactical grip", "REC7 SPC folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle Grendel MWS (6.5)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Shotgun AA12 (12ga)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle T14 M4A1 (410)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle T14 M4A1 (410) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle T14 MWS (410)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle Beowulf MWS (.50 BEO)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle XM-15-E2S (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle XM-15-E2S (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AR-15 CQB (.300 BLK)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AR-15 CQB (.300 BLK) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4A1 CQB (.300 BLK)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4A1 CQB (.300 BLK) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 Beowulf (.50 BEO)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 Beowulf (.50 BEO) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 Beowulf (.50 BEO)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 Beowulf (.50 BEO) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle LAC Beowulf (.50 BEO)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle LAC Beowulf (.50 BEO) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 Grendel (6.5)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 Grendel (6.5) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 Grendel (6.5)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 Grendel (6.5) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle LAC Grendel (6.5)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle LAC Grendel (6.5) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 (300BLK)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Small Assault Rifle M933 (300BLK) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 SOPMOD (300BLK)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M4 SOPMOD (300BLK) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle DSA-58OSW (7.62x51mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle DSA-58OSW (7.62x51mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M14EBR NEW (7.62mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle M14EBR NEW (7.62mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (5.45mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (5.45mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (7.62mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (7.62mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (308)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12 (308) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (5.45mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (5.45mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (7.62mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (7.62mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (308)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12C (308) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (5.45mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (5.45mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (7.62mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (7.62mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (308)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle AK-12U (308) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CQC (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CQC (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CQC CIV (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CQC CIV (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CAR (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CAR (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CAR CIV (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CAR CIV (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CIV (5.56mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle SIG 556 CIV (5.56mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416CQB", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416CQB folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416 14DRS", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416 14DRS folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK416 folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 12Inch CQB", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 12Inch CQB folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 16Inch", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 16Inch folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 20Inch", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HK417 20Inch folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 300BLK", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 300BLK folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 300BLK CQC", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 300BLK CQC folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 CQC", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 CQC folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 LB", AttachForegrip)
AddItemCombineHandler("Tactical grip", "SW MP15 LB folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "KAC PDW", AttachForegrip)
AddItemCombineHandler("Tactical grip", "KAC PDW folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HS VHS-D2", AttachForegrip)
AddItemCombineHandler("Tactical grip", "HS VHS-K2", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Assault Rifle Ash (12.7)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "MSBS Bullpup NOFG", AttachForegrip)

-- Attach Frontgrip / SMG
AddItemCombineHandler("Tactical grip", "Submachine-gun Skorpion 3 (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun Skorpion 3 (9mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun UMP9 (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun UMP9 (9mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun HK UMP45 (.45 ACP)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun HK UMP45 (.45 ACP) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun UMP40 (.40 S&W)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun UMP40 (.40 S&W) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (9mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (40)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (40) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (357)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPX (357) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (9mm) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (40)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (40) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (357)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MPXK (357) folded", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MX4 (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MX4 (40)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun MX4 (45)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun CX4 (9mm)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun CX4 (40)", AttachForegrip)
AddItemCombineHandler("Tactical grip", "Submachine-gun CX4 (45)", AttachForegrip)

-- Pistol with holster stock
AddItemCombineHandler("APS Belt", "Pistol APS (9x18mm) folded", AttachStock)
AddItemCombineHandler("Mauser Belt", "Pistol M712 (7.62x25mm) folded", AttachStock)
AddItemCombineHandler("Mauser Belt", "Pistol Astra 900 (Largo) folded", AttachStock)
AddItemCombineHandler("VP70 Belt", "Pistol VP70 (9x19 mm) folded", AttachStock)

local action_detach_handle = _t"lang/lua/fptb/detach_handle"

-- Detach Frontgrip / Rifle
AddItemContextMenu("Assault Rifle Colt Commando 933 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle Colt Commando 933 FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M4 CQB-R FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M4 CQB-R FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4A1 RIS FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4A1 RIS FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 SOPMOD FG (22)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 SOPMOD FG (22) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD 556 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD 556 FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD 556 BLK FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD 556 BLK FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD BLK FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("LWRC PSD BLK FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SAR21 FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle T91 FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle T91 FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 PDW NATO FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 PDW NATO FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 NATO FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 NATO FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 PDW SPC FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 PDW SPC FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 SPC FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("REC7 SPC FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M16A3 MWS FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M16A3 Target FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle Grendel MWS FG (6.5)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Shotgun AA12 FG (12ga)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle T14 M4A1 FG (410)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle T14 M4A1 FG (410) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle T14 MWS FG (410)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle Beowulf MWS FG (.50 BEO)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle XM-15-E2S FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle XM-15-E2S FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AR-15 CQB AG (.300 BLK)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AR-15 CQB AG (.300 BLK) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4A1 CQB AG (.300 BLK)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4A1 CQB AG (.300 BLK) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 Beowulf FG (.50 BEO)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 Beowulf FG (.50 BEO) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 Beowulf FG (.50 BEO)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 Beowulf FG (.50 BEO) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle LAC Beowulf FG (.50 BEO)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle LAC Beowulf FG (.50 BEO) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 Grendel FG (6.5)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 Grendel FG (6.5) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 Grendel FG (6.5)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 Grendel FG (6.5) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle LAC Grendel FG (6.5)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle LAC Grendel FG (6.5) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 FG (300BLK)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Small Assault Rifle M933 FG (300BLK) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 SOPMOD FG (300BLK)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M4 SOPMOD FG (300BLK) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle DSA-58OSW FG (7.62x51mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle DSA-58OSW FG (7.62x51mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M14EBR NEW FG (7.62mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle M14EBR NEW FG (7.62mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (5.45mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (5.45mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (7.62mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (7.62mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (308)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12 FG (308) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (5.45mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (5.45mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (7.62mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (7.62mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (308)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12C FG (308) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (5.45mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (5.45mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (7.62mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (7.62mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (308)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle AK-12U FG (308) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CQC FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CQC FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CQC CIV FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CQC CIV FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CAR FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CAR FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CAR CIV FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CAR CIV FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CIV FG (5.56mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle SIG 556 CIV FG (5.56mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416CQB FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416CQB FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416 14DRS FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416 14DRS FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK416 FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 12Inch CQB FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 12Inch CQB FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 16Inch FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 16Inch FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 20Inch FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HK417 20Inch FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 300BLK FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 300BLK FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 300BLK CQC FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 300BLK CQC FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 CQC FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 CQC FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 LB FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("SW MP15 LB FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("KAC PDW FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("KAC PDW FG folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HS VHS-D2 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("HS VHS-K2 FG", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Assault Rifle Ash FG (12.7)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("MSBS Bullpup FG", action_detach_handle, DetachForegrip, CanDetachForegrip)

-- Detach Frontgrip / SMG
AddItemContextMenu("Submachine-gun Skorpion 3 FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun Skorpion 3 FG (9mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP9 FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP9 FG (9mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP40 FG (.40 S&W)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP40 FG (.40 S&W) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP45 FG (.45ACP)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun UMP45 FG (.45ACP) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (9mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (40)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (40) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (357)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPX FG (357) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (9mm) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (40)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (40) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (357)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MPXK FG (357) folded", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MX4 FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MX4 FG (40)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun MX4 FG (45)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun CX4 FG (9mm)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun CX4 FG (40)", action_detach_handle, DetachForegrip, CanDetachForegrip)
AddItemContextMenu("Submachine-gun CX4 FG (45)", action_detach_handle, DetachForegrip, CanDetachForegrip)